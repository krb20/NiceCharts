!function(a){"use strict";a.NC_TYPE_RENDERER=[["Line","renderLineBar"],["Bar","renderLineBar"]],a.loadGlobalOnce=!0;var b=document.createElement("style");b.type="text/css",b.innerHTML=".cls-ani1 {width: 1000;animation:ani1 500ms;} @keyframes ani1{from {width:0} to {width:1000}} .cls-ani2{animation: ani2 1000ms;} @keyframes ani2{from {opacity: 0;}to {opacity: 1;}} .cls-ani3{stroke-dasharray: 1000;stroke-dashoffset: 0;animation: ani3 2s;} @keyframes ani3 {from {stroke-dashoffset: 1000;}to {stroke-dashoffset: 0;}}",document.getElementsByTagName("head")[0].appendChild(b),a.NiceChart=function(b,c){var d=this;if(this.svgConfigObj=c,this.svgChartType=b,this.barOrLine=null,"Bar"===this.svgChartType&&(this.barOrLine="Bar"),"Line"===this.svgChartType&&(this.barOrLine="Line"),this.inputData=c.input,this.renderHere=c.renderHere,this.svgContainer=document.getElementById(this.renderHere),null===this.svgContainer||"undefined"==typeof this.svgContainer)return{render:function(){return"unsupported browser version"}};this.svgChartSpace=60,this.svgChartRgtMargin=40,this.svgChartWidth=null,this.svgChartHeight=null,this.svgChartMarginSpace=null,this.svgChartMarginHeight=null;var e="",f=[];this.chartInnerWidth=null,this.chartPlotMargin=null,this.totalChartPoints=null,this.chartLabelsAxisX=[],this.maxDataValue=1,this.totalLabelOnYAxis=null,this.defaults={axisStyle:{axisColor:"#D8D8D8",axisWidth:"1px",axisYLabelCount:"",axisXTitle:"",axisYTitle:"",axisYTitleTb:!0,axisXTitleLMargin:0,axisXTitleColor:"#000",axisYTitleColor:"#000",axisXLabelColor:"#000",axisYLabelColor:"#000",axisXLabelTb:!1,axisXLabelSkipIndex:1},chartStyle:{chartWidth:450,chartHeight:300,chartMargin:30,chartPlotColor:"#000",lineStrokeWidth:"1px",chartPlotMargin:10,showToolTip:!1,toolTipPrefix:"",toolTipColor:"#fff",toolTipBgColor:"#000",toolTipSuffix:"",circleRadius:3,chartBgColor:"#fff",chartBgLines:!1,chartBgLineColor:"#D8D8D8",chartBgLineDotted:!1,showLegend:!1,legendTitleColor:"#000"},animation:{highLight:!1,animateLoad:!1,animateReload:!1}};var g=function(a,b){for(var c in a)b.hasOwnProperty(c)&&(a[c]=b[c]);return a};for(var h in this.defaults)c.hasOwnProperty(h)&&g(this.defaults[h],c[h]);this.svgChartMargin=d.defaults.chartStyle.chartMargin,this.clearGraph=function(){for(;this.svgContainer.lastChild;)this.svgContainer.removeChild(this.svgContainer.lastChild)};var i=function(){d.svgContainer.setAttribute("width",d.defaults.chartStyle.chartWidth),d.svgContainer.setAttribute("height",d.defaults.chartStyle.chartHeight),d.svgContainer.style.backgroundColor=d.defaults.chartStyle.chartBgColor,d.svgChartHeight=d.svgContainer.height.baseVal.value-2*d.svgChartMargin-d.svgChartSpace,d.svgChartWidth=d.svgContainer.width.baseVal.value-2*d.svgChartMargin-d.svgChartSpace-d.svgChartRgtMargin,d.svgChartMarginSpace=d.svgChartMargin+d.svgChartSpace,d.svgChartMarginHeight=d.svgChartMargin+d.svgChartHeight,d.chartPlotMargin=d.defaults.chartStyle.chartPlotMargin,d.totalChartPoints=d.inputData.length,d.chartInnerWidth=d.svgChartWidth/(d.totalChartPoints-1)-d.chartPlotMargin,"Line"===d.barOrLine&&1==d.totalChartPoints&&(d.chartInnerWidth=d.svgChartWidth-d.chartPlotMargin),"Bar"===d.barOrLine&&(d.chartInnerWidth=d.svgChartWidth/d.totalChartPoints-d.chartPlotMargin),d.chartLabelsAxisX.length=0;for(var a=0;a<d.totalChartPoints;a++){d.chartLabelsAxisX.push(d.inputData[a].split(",")[0]);var b=parseInt(d.inputData[a].split(",")[1]);b>parseInt(d.maxDataValue)&&(d.maxDataValue=b)}d.totalLabelOnYAxis=parseInt((d.svgChartHeight/50*2).toFixed(0)),""!==d.defaults.axisStyle.axisYLabelCount&&(d.totalLabelOnYAxis=parseInt(d.defaults.axisStyle.axisYLabelCount))};this.chartAxisLableMarkers=function(){j(this.svgChartMarginSpace,this.svgChartMarginHeight,this.svgChartMarginSpace,this.svgChartMargin,this.defaults.axisStyle.axisColor,this.defaults.axisStyle.axisWidth),j(this.svgChartMarginSpace,this.svgChartMarginHeight,this.svgChartWidth+this.svgChartMarginSpace+this.svgChartMargin,this.svgChartMarginHeight,this.defaults.axisStyle.axisColor,this.defaults.axisStyle.axisWidth),k()};var j=function(a,b,c,e,f,g,h){var i=document.createElementNS("http://www.w3.org/2000/svg","line");i.setAttribute("x1",a),i.setAttribute("y1",b),i.setAttribute("x2",c),i.setAttribute("y2",e),i.style.stroke=f,h&&(i.style["stroke-dasharray"]="2,2"),i.style.strokeWidth=g,i.style["shape-rendering"]="crispEdges",d.svgContainer.appendChild(i)};this.chartTextObj=function(a,b,c,d){var e=document.createElementNS("http://www.w3.org/2000/svg","text");return e.setAttribute("dx",a),e.setAttribute("dy",b),e.style.fill=c,d&&(e.style["text-anchor"]="end"),e};var k=function(){var a,b,c,e,f,g,h,i,k,l=10;"Bar"===d.barOrLine&&(l=-(d.chartInnerWidth/2)),e=d.chartTextObj(15,d.svgChartMargin-20,d.defaults.axisStyle.axisYTitleColor),d.defaults.axisStyle.axisYTitleTb&&(e=d.chartTextObj(15,d.svgChartMargin-10,d.defaults.axisStyle.axisYTitleColor),e.style["writing-mode"]="tb",e.style["glyph-orientation-vertical"]=90),f=document.createTextNode(d.defaults.axisStyle.axisYTitle),e.appendChild(f),d.svgContainer.appendChild(e),c=d.chartTextObj(d.svgChartWidth+d.defaults.axisStyle.axisXTitleLMargin,d.svgChartMarginHeight+50,d.defaults.axisStyle.axisXTitleColor),f=document.createTextNode(d.defaults.axisStyle.axisXTitle),c.appendChild(f),d.svgContainer.appendChild(c);for(var m=parseInt(d.maxDataValue)/d.totalLabelOnYAxis,n=0;n<d.totalLabelOnYAxis+1;n++){g=(n*m).toFixed(0),h=n*m*d.svgChartHeight;var o=d.svgChartMarginSpace-5,p=d.svgChartMarginHeight-h/d.maxDataValue;a=d.chartTextObj(o-5,p+5,d.defaults.axisStyle.axisYLabelColor,!0),f=document.createTextNode(g),a.appendChild(f),d.svgContainer.appendChild(a),d.defaults.chartStyle.chartBgLines&&0!==n&&j(o+6,p,d.svgChartWidth+d.svgChartMarginSpace+d.svgChartMargin,p,d.defaults.chartStyle.chartBgLineColor,1,d.defaults.chartStyle.chartBgLineDotted)}for(var q=0;q<d.totalChartPoints;q++)q%d.defaults.axisStyle.axisXLabelSkipIndex===0&&(name=d.chartLabelsAxisX[q],i=d.svgChartMarginSpace+d.chartPlotMargin+q*(d.chartInnerWidth+d.chartPlotMargin)-l,k=d.svgChartMarginHeight+20,b=d.chartTextObj(i,k,d.defaults.axisStyle.axisXLabelColor),d.defaults.axisStyle.axisXLabelTb&&(b=d.chartTextObj(i+10,k-15,d.defaults.axisStyle.axisXLabelColor),b.style["writing-mode"]="tb",b.style["glyph-orientation-vertical"]=90),f=document.createTextNode(name),b.appendChild(f),d.svgContainer.appendChild(b))},l=function(a,b,c,e,f,g){var h=document.createElementNS("http://www.w3.org/2000/svg","rect");h.setAttributeNS(null,"id","rect-"+d.renderHere+"-"+g),h.setAttributeNS(null,"class","cls-rect-"+d.renderHere),h.setAttributeNS(null,"x",a),h.setAttributeNS(null,"y",b),h.setAttributeNS(null,"width",c),h.setAttributeNS(null,"height",e),h.setAttributeNS(null,"fill",d.defaults.chartStyle.chartPlotColor),d.svgContainer.appendChild(h)};this.appendToContainer=function(a){for(var b=0;b<a.length;b++)d.svgContainer.appendChild(a[b])};var m=function(a,b,c){e=e+" "+a+","+b;var g=document.createElementNS("http://www.w3.org/2000/svg","circle");if(g.setAttributeNS(null,"class","cls-circle-"+d.renderHere),g.setAttributeNS(null,"cx",a),g.setAttributeNS(null,"cy",b),g.setAttributeNS(null,"r",d.defaults.chartStyle.circleRadius),g.setAttributeNS(null,"fill","#fff"),g.setAttributeNS(null,"stroke",d.defaults.chartStyle.chartPlotColor),g.setAttributeNS(null,"stroke-width","1"),f.push(g),c==d.totalChartPoints-1){var h=document.createElementNS("http://www.w3.org/2000/svg","polyline");h.setAttributeNS(null,"id","polyline-"+d.renderHere),h.setAttributeNS(null,"points",e),h.setAttributeNS(null,"fill","none"),h.setAttributeNS(null,"stroke",d.defaults.chartStyle.chartPlotColor),h.style.strokeWidth=d.defaults.chartStyle.lineStrokeWidth,d.svgContainer.appendChild(h),e="",d.appendToContainer(f),f.length=0}},n=function(){var a,b,c,e,f=5;"Bar"===d.barOrLine&&(f=-10);for(var g=0;g<d.totalChartPoints;g++){var h=d.inputData[g].split(",");switch(a=parseInt(h[1]),b=a*d.svgChartHeight/d.maxDataValue,c=d.svgChartMarginSpace+g*(d.chartInnerWidth+d.chartPlotMargin)+d.chartPlotMargin-f,e=d.svgChartMarginHeight-b-1,d.barOrLine){case"Bar":l(c,e,d.chartInnerWidth,b,!0,g);break;case"Line":m(c,e,g)}}},o=function(){var a=document.getElementsByClassName("cls-rect-"+d.renderHere),b=document.getElementById("polyline-"+d.renderHere);if(d.defaults.animation.animateLoad)switch(d.barOrLine){case"Bar":for(var c=function(a){document.getElementById("rect-"+d.renderHere+"-"+a).className.baseVal+=" cls-ani1"},e=0;e<a.length;e++)c(e);break;case"Line":b.className.baseVal+=" cls-ani3"}if(d.defaults.animation.animateReload)switch(d.barOrLine){case"Bar":document.getElementById(d.renderHere).classList.contains("cls-ani2")&&(document.getElementById(d.renderHere).className.baseVal+=" cls-ani2");break;case"Line":document.getElementById(d.renderHere).classList.contains("cls-ani2")&&(document.getElementById(d.renderHere).className.baseVal+=" cls-ani2")}if(d.defaults.animation.highLight)for(var f=function(a,b,c,d){a.x.baseVal.value=parseInt(a.x.baseVal.value)+b,a.width.baseVal.value=parseInt(a.width.baseVal.value)+c,a.style["fill-opacity"]=d},g=function(b){a[b].addEventListener("mouseover",function(){f(this,-3,6,.8)},!1),a[b].addEventListener("mouseout",function(){f(this,3,-6,1)},!1)},e=0;e<a.length;e++)g(e)},p=function(){if(d.defaults.chartStyle.showToolTip){var a,b,e,f,g,h,i="circle";a=document.createElementNS("http://www.w3.org/2000/svg","rect"),a.setAttributeNS(null,"id","tooltip-bg-"+d.renderHere),a.setAttributeNS(null,"x",d.svgChartMarginSpace),a.setAttributeNS(null,"y",d.svgChartMargin),a.setAttributeNS(null,"rx",5),a.setAttributeNS(null,"ry",5),a.setAttributeNS(null,"width",50),a.setAttributeNS(null,"height",21),a.setAttribute("visibility","hidden"),a.style.opacity=.8,a.style.fill=d.defaults.chartStyle.toolTipBgColor,d.svgContainer.appendChild(a),b=d.chartTextObj(d.svgChartMarginSpace,d.svgChartMargin,d.defaults.chartStyle.toolTipColor),b.setAttribute("id","tooltip-"+d.renderHere),b.setAttribute("visibility","hidden"),d.svgContainer.appendChild(b),"Bar"==d.barOrLine&&(i="rect"),e=document.getElementById("tooltip-"+d.renderHere),f=document.getElementById("tooltip-bg-"+d.renderHere),g=document.getElementsByClassName("cls-"+i+"-"+d.renderHere);for(var j=function(a){g[a].addEventListener("mouseover",function(){"rect"===i?(f.setAttribute("x",this.x.baseVal.value-20),f.setAttribute("y",this.y.baseVal.value-15),e.setAttribute("x",this.x.baseVal.value-d.svgChartMargin-75),e.setAttribute("y",this.y.baseVal.value-d.svgChartMargin)):"circle"===i&&(f.setAttribute("x",this.cx.baseVal.value-30),f.setAttribute("y",this.cy.baseVal.value-25),e.setAttribute("x",this.cx.baseVal.value-d.svgChartMargin-85),e.setAttribute("y",this.cy.baseVal.value-d.svgChartMargin-10)),e.textContent=d.defaults.chartStyle.toolTipPrefix+" "+d.inputData[a].split(",")[1]+" "+d.defaults.chartStyle.toolTipSuffix,h=e.getComputedTextLength(),f.setAttribute("width",h+10),f.setAttribute("visibility","visible"),e.setAttribute("visibility","visible")},!1),g[a].addEventListener("mouseout",function(){e.setAttribute("visibility","hidden"),f.setAttribute("visibility","hidden")},!1)},k=0;k<g.length;k++)j(k)}};this.renderLineBar=function(){this.clearGraph(),i(),this.chartAxisLableMarkers(),n(),o(),p()},this.render=function(){for(var b=0;b<a.NC_TYPE_RENDERER.length;b++)d.svgChartType===a.NC_TYPE_RENDERER[b][0]&&"function"==typeof d[a.NC_TYPE_RENDERER[b][1]]&&d[a.NC_TYPE_RENDERER[b][1]]();return this},this.toggleChart=function(){"Bar"===this.svgChartType?(this.svgChartType="Line",this.barOrLine="Line"):"Line"===this.svgChartType&&(this.svgChartType="Bar",this.barOrLine="Bar"),this.render()},this.getChartType=function(){return this.svgChartType},this.refreshChartData=function(a){this.inputData=a,this.render()},this.resizeChart=function(a,b){a&&(this.defaults.chartStyle.chartWidth=a),b&&(this.defaults.chartStyle.chartHeight=b),this.render()},this.changeAxisTitles=function(a,b){a&&(this.defaults.axisStyle.axisXTitle=a),b&&(this.defaults.axisStyle.axisYTitle=b),this.render()}}}(this);